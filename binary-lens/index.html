<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>ASCII Camera</title>
  <!-- Link to external CSS -->
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <!-- UI Buttons at the bottom of the screen -->
  <div id="cameraUI">
    <!-- Red ASCII control button -->
    <button class="bigButton redButton" onclick="toggleASCIIControl()">ASCII</button>

    <!-- Shutter button -->
    <button class="bigButton shutterButton" onclick="takeSnapshot()">Shoot</button>

    <!-- Blue camera switcher -->
    <button class="bigButton blueButton" onclick="switchCamera()">Switch</button>
  </div>

  <!-- ASCII Controls Overlay -->
  <div id="asciiControlsOverlay">
    <div class="overlayContent">

      <!-- Aspect Ratio -->
      <label>Aspect Ratio</label><br />
      <select id="aspectRatioSelect" onchange="handleAspectRatioChange()">
        <option value="16:9" selected>Default (16×9)</option>
        <option value="1:1">1×1 Square</option>
        <option value="4:5">4×5</option>
      </select>
      <br /><br />

      <!-- pixelSize with caret + range -->
      <div class="controlGroup">
        <label>pixelSize: <span id="pixelSizeValue">10</span></label>
        <div class="rangeContainer">
          <button class="caretButton" onclick="adjustPixelSize(-1)">&#9664;</button>
          <input
            type="range"
            id="pixelSizeRange"
            min="1"
            max="64"
            value="10"
            oninput="updatePixelSize(this.value)"
          />
          <button class="caretButton" onclick="adjustPixelSize(1)">&#9654;</button>
        </div>
      </div>

      <!-- textSize with caret + range -->
      <div class="controlGroup">
        <label>textSize: <span id="textSizeValue">13</span></label>
        <div class="rangeContainer">
          <button class="caretButton" onclick="adjustTextSize(-1)">&#9664;</button>
          <input
            type="range"
            id="textSizeRange"
            min="1"
            max="64"
            value="13"
            oninput="updateTextSize(this.value)"
          />
          <button class="caretButton" onclick="adjustTextSize(1)">&#9654;</button>
        </div>
      </div>

      <!-- Character Set -->
      <label>Characters</label><br />
      <select id="characterSetSelect" onchange="handleCharacterSetChange()">
        <option value="default">.:-=+*#%@ (Default)</option>
        <option value="asciiLetters">ASCII Letters (A-Za-z0-9)</option>
        <option value="custom">Custom</option>
      </select>
      <br />
      <input
        id="customCharacterSet"
        type="text"
        value=".:-=+*#%@"
        style="display:none; margin-top:5px; font-size: 1.8rem; padding: 8px 12px;"
        oninput="handleCustomCharacters()"
      />
      <br /><br />

      <!-- Text Style -->
      <label>Text Style</label><br />
      <select id="textStyleSelect" onchange="handleTextStyleChange()">
        <option value="NORMAL" selected>Normal</option>
        <option value="BOLD">Bold</option>
        <option value="ITALIC">Italic</option>
      </select>
      <br /><br />

      <!-- Text Color -->
      <label>Text Color</label><br />
      <input
        id="textColorInput"
        type="color"
        value="#000000"
        onchange="handleTextColorChange()"
      />
      <br /><br />

      <!-- Background Color -->
      <label>Background Color</label><br />
      <input
        id="backgroundColorInput"
        type="color"
        value="#ffffff"
        onchange="handleBackgroundColorChange()"
      />
      <br /><br />

      <!-- Close Button -->
      <button class="close-button" onclick="toggleASCIIControl()">Close</button>
    </div>
  </div>

  <!-- Snapshot Overlay -->
  <div id="mediaManagementOverlay">
    <div class="overlayContent">
      <img id="snapshotImg" />
      <br /><br />
      <div class="buttonGroup">
        <button id="capDelete" onclick="deletePhoto()">Delete</button>
        <button id="capSave" onclick="savePhoto()">Save</button>
        <button id="capShare" onclick="sharePhoto()">Share</button>
      </div>
    </div>
  </div>

  <!-- Load p5.js from a CDN -->
  <script src="https://cdn.jsdelivr.net/npm/p5@1.4.2/lib/p5.min.js"></script>
  <!-- Load your external JavaScript -->
  <script src="sketch.js"></script>
</body>
</html>
